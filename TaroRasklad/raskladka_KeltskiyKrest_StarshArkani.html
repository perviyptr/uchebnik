<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Расклад "Кельтский Крест" (только старшие арканы)</title>
	<link rel="stylesheet" type="text/css" href="styleRaskladki.css">

	<style type="text/css">
		#обшийДляРубашек{
			width: 500px;
			height: 320px;
			outline: solid 1px;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			align-items: center;
		}
		#дляПоляИвертикальнойКолонки{
			width: 500px;
			height: 270px;
			outline: solid 1px;
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			align-items: center;
		}
		#вертикальнаяКолонка{
			width: 50px;
			height: 270px;
			outline: solid 1px;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			align-items: center;
			background: rgb(250, 180, 200);
		}
		#полеДляКарт{
			width: 450px;
			height: 270px;
			outline: solid 1px;
			display: flex;
			flex-direction: row;
			justify-content: flex-start;
			align-items: center;
			flex-wrap: wrap;
			background: rgb(240, 240, 160);
		}
		.дляКарты{
			width: 100px;
			height: 175px;
			outline: double 5px rgb(124, 34, 166);
			background: rgb(240, 240, 160);
			text-align: center;
			font-family: sans-serif;
			font-size: 13px;
		}
		.дляДвухНаложенныхКарт{
			width: 175px;
			height: 175px;
			position: relative;
		}
		.дляКартыПовёрнутойВерхняя{
			width: 100px;
			height: 175px;
			outline: double 5px rgb(124, 34, 166);
			background: rgb(240, 240, 160);
			text-align: center;
			font-family: sans-serif;
			font-size: 13px;
			position: absolute;
			bottom: -38px;
			left: 38px;
			-webkit-transform: rotate(-90deg);
			-ms-transform: rotate(-90deg);
			transform: rotate(-90deg);
			z-index: 5000;
		}
		.дляКартыНеповёрнутойНижняя{
			width: 100px;
			height: 175px;
			outline: double 5px rgb(124, 34, 166);
			background: rgb(240, 240, 160);
			text-align: center;
			font-family: sans-serif;
			font-size: 13px;
			position: absolute;
			top: 0px;
			left: 38px;
		}
		.обшийДляРаскладок{
			width: 625px;
			height: 801px;
			display: flex;
			flex-direction: column;
			justify-content:space-between;
			align-items: center;
			margin-right: 20px;
		}
		.дляВерхнегоРядаКарт{
			width: 625px;
			height: 216px;
			display: flex;
			flex-direction: row;
			justify-content: flex-end;
			align-items: center;
		}
		.дляСреднегРядаКарт{
			width: 625px;
			height: 370px;
			display: flex;
			flex-direction: row;
			justify-content:space-between;
			align-items: center;
		}
		.дляНижнегоРядаКарт{
			width: 625px;
			height: 216px;
			display: flex;
			flex-direction: row;
			justify-content: flex-end;
			align-items: center;
		}
		.дляРазмещенияКартВверхнемРяду{
			width: 438px;
			height: 175px;
			display: flex;
			flex-direction: row;
			justify-content:space-between;
			align-items: center;
		}
		.дляРазмещенияКартВсреднемРядуСлева{
			width: 475px;
			height: 175px;
			display: flex;
			flex-direction: row;
			justify-content:space-between;
			align-items: center;
		}
		.дляРазмещенияКартВсреднемРядуСправа{
			width: 100px;
			height: 370px;
			display: flex;
			flex-direction: column;
			justify-content:space-between;
			align-items: center;
		}
		.дляРазмещенияКартВнижнемРяду{
			width: 438px;
			height: 175px;
			display: flex;
			flex-direction: row;
			justify-content:space-between;
			align-items: center;
		}
	</style>
</head>
<body>
	<div class="общаяРамка">
		<div class="дляНадписей">
		<p><a href="index.html">На главную страницу</a></p>
		<h2 class="заголовок">Расклад «Кельтский крест»<br>(только старшие арканы)</h2>
		<ul class="трактовкаРасклада">
			<li>Для создания раскладки выбирайте закрытые карты левой кнопкой мыши</li>
			<li>Показать трактовку — щелчок левой кнопкой по карте</li>
			<li>Обновить — клавиша F5</li>
		</ul>
		</div>
	<div class="главный">
	<div id="обшийДляРубашек">
		<div id="горизонтальнаяКолонка"></div>
		<div id="дляПоляИвертикальнойКолонки">
			<div id="вертикальнаяКолонка"></div>
			<div id="полеДляКарт"></div>
		</div>
	</div>
	<div class="обшийДляРаскладок">
		<div class="дляВерхнегоРядаКарт">
			<div class="дляРазмещенияКартВверхнемРяду">
				<div id="карта3" class="дляКарты" title="3. Цель — либо наилучший результат, которого вы можете достичь">3. <br>Цель — либо наилучший результат, которого вы можете достичь</div>
				<div id="карта10" class="дляКарты" title="10. Результат">10. <br>Результат</div>
			</div>
		</div>
		<div class="дляСреднегРядаКарт">
			<div class="дляРазмещенияКартВсреднемРядуСлева">
				<div id="карта5" class="дляКарты" title="5. Прошлое">5. Прошлое</div>
					<div class="дляДвухНаложенныхКарт">
						<div id="карта1" class="дляКарты дляКартыНеповёрнутойНижняя" title="1. Общая характеристика вопроса">1. <br>Общая характеристика вопроса</div>
						<div id="карта2" class="дляКарты дляКартыПовёрнутойВерхняя" title="2. Препятствия">2. <br>Препятствия</div>
					</div>
				<div id="карта6" class="дляКарты" title="6.  Будущее">6. <br>Будущее</div>
			</div>
			<div class="дляРазмещенияКартВсреднемРядуСправа">
				<div id="карта9" class="дляКарты" title="9. Ваши надежды и опасения">9. <br>Ваши надежды и опасения</div>
				<div id="карта8" class="дляКарты" title="8. Ваше окружение, то, как вас видят другие люди">8. <br>Ваше окружение, то, как вас видят другие люди</div>
			</div>
		</div>
		<div class="дляНижнегоРядаКарт">
			<div class="дляРазмещенияКартВнижнемРяду">
				<div id="карта4" class="дляКарты" title="4. Корень проблемы, подсознательные, не осознаваемые вами влияния">4. <br>Корень проблемы, подсозна-<br>тельные, не осознаваемые вами влияния</div>
				<div id="карта7" class="дляКарты" title="7. Вы сами, ваше отношение к данной проблеме">7. <br>Вы сами, ваше отношение к данной проблеме</div>
			</div>
		</div>
	</div>
	</div>
	</div>

	<script type="text/javascript">
		let картаРубашка;
		let дляГоризонтальныхНомеров;
		let дляВертикальныхНомеров;
		let максимальноеЧисло = 22;
		let полеДляКарт = document.getElementById('полеДляКарт');
		const горизонтальнаяКолонка = document.getElementById('горизонтальнаяКолонка');
		const вертикальнаяКолонка = document.getElementById('вертикальнаяКолонка');
		let дляКарты = document.getElementsByClassName('дляКарты');
		const карты = new Array(22).fill().map((_, i) => i);

		document.addEventListener('mousedown', event => {
		event.preventDefault();
		});

		for(let i = 0; i < 22; i++){
			картаРубашка = document.createElement('img');
			картаРубашка.src = 'Ris_I_Trakt/Рубашка.jpg';
			полеДляКарт.appendChild(картаРубашка);
			картаРубашка.classList.add("картаРубашка");
			картаРубашка.addEventListener('click', ВставитьКарту);
			картаРубашка.addEventListener('click', СкрытьКарту);
		}
			let k = 0;
			function СкрытьКарту(event){
				if (k < 10) {
					event.target.classList.add('скрытаяКарта');
				}
				k++;
			}
		for(let i = 0; i < 10; i++){
			дляГоризонтальныхНомеров = document.createElement('div');
			горизонтальнаяКолонка.appendChild(дляГоризонтальныхНомеров);
			дляГоризонтальныхНомеров.classList.add("дляГоризонтальныхНомеров");
			дляГоризонтальныхНомеров.textContent = i;
		}
		for(let i = 0; i < 3; i++){
			дляВертикальныхНомеров = document.createElement('div');
			вертикальнаяКолонка.appendChild(дляВертикальныхНомеров);
			дляВертикальныхНомеров.classList.add("дляВертикальныхНомеров");
			дляВертикальныхНомеров.textContent = i + 1;
		}

		let количествоКарт = 0;
		function ВставитьКарту(){
			if(количествоКарт > 9) {
				return;
			}
		 	const номер = ДостатьСлучайнуюКарту(карты);
			const карта = document.createElement('a');
			карта.setAttribute('href', 'Ris_I_Trakt/' + номер + '.html');
			карта.setAttribute('target', "_blank");
			const картинка = document.createElement('img');
			картинка.src = 'Ris_I_Trakt/' + номер + '.jpg';
			картинка.classList.add("карты");
			карта.appendChild(картинка);
			const контейнерКарты = document.getElementById('карта' + (количествоКарт + 1));
			контейнерКарты.textContent = '';
			контейнерКарты.textContent = количествоКарт + 1;
			контейнерКарты.appendChild(карта);

			if (Math.random() > 0.5) {
				картинка.style.transform = 'rotate(180deg)';
			}
			количествоКарт++;
		}

		function ДостатьСлучайнуюКарту(карты){
			return карты.splice(Math.floor(Math.random() * карты.length), 1)[0];
		}

	</script>
</body>
</html>